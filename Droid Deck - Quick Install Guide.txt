# üöÄ Droid Deck - Quick Install Guide for Steam Deck

## Step 1: Switch to Desktop Mode

### From Gaming Mode:
1. **Press the Steam Button** (bottom left of screen)
2. **Select "Power"** from the menu
3. **Choose "Switch to Desktop"**
4. **Wait for restart** (takes 30-60 seconds)

### Alternative Method:
- **Hold Power Button** ‚Üí Select "Switch to Desktop"

---

## Step 2: Open Terminal

Once in Desktop Mode:
1. **Click the Application Menu** (bottom left corner)
2. **Search for "Konsole"** or **"Terminal"**
3. **Click to open** the terminal

---

## Step 3: Download and Run Installer

Copy and paste these commands one at a time:

# Copy across the installer
Dolphin explorer, USB or other method

# Make it executable
chmod +x DD_install.sh

# you will need sudo account, if none exists set one (enter twice and confirm)
passwd 

# Run the installer
./DD_install.sh
```

**‚è±Ô∏è Installation Time:** 15-20 minutes (downloads Python 3.9.13, pacakges and updates pacman keys - we have to install a lot of developer tools so expect this part to take a while)

---

## Step 4: Transfer Your Files

After installation completes:

### Option A: USB Drive
```bash
# Insert USB drive, then:
cp -r /media/usb/your-droid-deck-source/* ~/DroidDeck/
```

### Option B: Network Transfer
```bash
# From your dev machine:
scp -r ./droid-deck-source/* deck@STEAMDECK_IP:~/DroidDeck/
```

### Option C: Git Clone
```bash
cd ~/DroidDeck
git clone YOUR_REPOSITORY_URL .
```

---

## Step 5: Configure Robot IP

Edit the configuration file:
```bash
nano ~/DroidDeck/resources/configs/steamdeck_config.json
```

**Change these IPs to your robot's IP:**
```json
{
  "current": {
    "esp32_cam_url": "http://YOUR_ROBOT_IP:81/stream",
    "camera_proxy_url": "http://YOUR_ROBOT_IP:8081/stream",
    "control_websocket_url": "ws://YOUR_ROBOT_IP:8766"
  }
}
```

**Save:** `Ctrl+X` ‚Üí `Y` ‚Üí `Enter`

---

## Step 6: Test Installation

```bash
# Run the test
~/DroidDeck/launch_droid_deck.sh
```

**‚úÖ Success:** Droid Deck interface opens  
**‚ùå Issues:** Check troubleshooting below

---

## Step 7: Gaming Mode Setup

### Return to Gaming Mode:
1. **Click Application Menu** ‚Üí **Leave Desktop**
2. **Or restart Steam Deck**

### Add to Steam Library:
1. **Steam Button** ‚Üí **Library**
2. **Add a Game** ‚Üí **Add a Non-Steam Game**
3. **Browse** ‚Üí Select: `/home/deck/DroidDeck/steamdeck_launch.sh`
4. **Set Name:** "Droid Deck Control"

---

## ‚ö° Quick Troubleshooting

### Python Version Issues:
```bash
source ~/.bashrc
cd ~/DroidDeck
python --version  # Should show 3.9.13
```

### Permission Issues:
```bash
chmod +x ~/DroidDeck/launch_droid_deck.sh
sudo chown -R deck:deck ~/DroidDeck/
```

### Network Issues:
```bash
ping YOUR_ROBOT_IP  # Test connectivity
```

### Reset Installation:
```bash
~/DroidDeck/uninstall_droiddeck.sh
./droid_deck_installer.sh  # Run installer again
```

---

## üìÅ Important Paths

| Item | Location |
|------|----------|
| **Project Files** | `~/DroidDeck/` |
| **Configuration** | `~/DroidDeck/resources/configs/` |
| **Launcher (Desktop)** | `~/DroidDeck/launch_droid_deck.sh` |
| **Launcher (Gaming)** | `~/DroidDeck/steamdeck_launch.sh` |
| **Uninstaller** | `~/DroidDeck/uninstall_droiddeck.sh` |

---

## üéÆ Controller Mapping

**Recommended Steam Deck Layout:**
- **Left Stick:** Robot movement
- **Right Stick:** Camera pan/tilt
- **A Button:** Happy emotion
- **B Button:** Sad emotion
- **X Button:** Curious emotion
- **Y Button:** Surprise emotion

---

## üîß Advanced Configuration

### Performance Tuning:
```json
{
  "steamdeck": {
    "fullscreen": false,
    "scale_factor": 1.2,
    "font_size": 12,
    "touch_mode": true,
    "performance_mode": "balanced"
  }
}
```

### Debug Mode:
```bash
# Enable detailed logging
~/DroidDeck/launch_droid_deck.sh --debug
```

---

## üìû Need Help?

### Check Installation:
```bash
source ~/droid_deck_venv/bin/activate
python -c "import PyQt6; print('PyQt6 OK')"
```

### View Logs:
```bash
tail -f ~/DroidDeck/logs/droid_deck.log
```

### Get System Info:
```bash
uname -a                    # System info
python --version           # Python version
pip list | grep -i pyqt    # PyQt version
```

---

## ‚úÖ Installation Complete!

Your Droid Deck Control System is now ready to use on Steam Deck! ü§ñüéÆ

**Desktop Mode:** Use desktop shortcut or run `~/DroidDeck/launch_droid_deck.sh`  
**Gaming Mode:** Launch "Droid Deck Control" from your Steam library

---

## üîÑ Switching Between Modes

### Desktop ‚Üí Gaming:
- **Application Menu** ‚Üí **Return to Gaming Mode**
- **Or restart** Steam Deck

### Gaming ‚Üí Desktop:
- **Steam Button** ‚Üí **Power** ‚Üí **Switch to Desktop**

---

**Total Setup Time:** ~30 minutes  
**Difficulty:** ‚≠ê‚≠ê‚òÜ‚òÜ‚òÜ (Easy-Medium)